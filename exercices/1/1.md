On se retrouve pour des exercices d‚Äôalgorithmie cette fois.

Qui dit algorithmie... dit :

- Tableau
- Boucle
- Donn√©es
- Tests et validation

C'est pour √ßa que la structure de notre projet √† un peu chang√©.

Comme d'habitude, tous les concepts ci-dessus te sont peut-√™tre _inconnue_ mais on va appliquer la m√™me m√©thode :

_Tu vas gal√©rer, mais √ßa vaut le coup !_

Tu seras toujours aid√© par les √©mojis donc pas de soucis √† ce faire !

## Prends note

Je pense que suivant ton niveau cette exercice peut-√™tre **tr√®s compliqu√©** et j'en ai bien conscience.

Quelques r√®gles pour toi :

1. Passe maximum 20 minutes sur une parties, si tu n'as pas r√©ussi √† trouver la solution, regarde la vid√©o solution. **Ce n'est pas grave d'√©chouer, c'est m√™me normal** ! Apr√®s le cours, tu retourneras sur ces exercices et tu les ferras les yeux ferm√©.
2. Quand tu regardes les vid√©os solutions, fait tout √† nouveau avec moi pour bien comprendre.

## Exercice 1

On va faire un exercice... d‚Äôalgorithmie !

Je te met en situation. Les lutins du p√®re no√´l ne doivent pas trop manger de calories, donc ils les √©crivent tous comme ceci :

```
1000
2000
3000

4000

5000
6000
```

Cette liste repr√©sente les calories r√©colter par 3 lutines. Chaque espace d√©limite un lutin. Puis chaque ligne repr√©sente un repas avec des calories.

Donc le premier lutin prends 1000 + 2000 + 3000 = 6000 calories.

Le deuxi√®me lutin prends 4000 calories.

Le troisi√®me lutin prends 5000 + 6000 = 11000 calories.

Ta t√¢che est de trouver le lutin qui a mang√© le plus de calories et me dire combien de calories il a mang√©.

#### Explications

Dans notre exercice, on retrouvera des fichiers `data-test.txt` qui contiennent des donn√©es de **test** afin de tester tes fonctions.

On retrouvera aussi des fichiers `data.txt` qui contiennent des donn√©es **r√©elles** qui permetteront de v√©rifier que ton programmes fonctionne avec n'importe quel donn√©es.

Dans le fichier exercice, `1.js` tu retrouveras deux functions export√© : `part1` et `part2` que l'on verra dans la suite.

Aussi, tu verras ce code que j'ai d√©j√† fais :

```js
const fs = require('fs');
const path = require('path');

function readFileContent(p) {
  const filePath = path.join(__dirname, p);
  const fileContent = fs.readFileSync(filePath).toString();
  return fileContent;
}
```

Celui-ci permet de lire le fichier `data.txt` et de le transformer en une cha√Æne de caract√®re.

Tu vois qu'il prends en param√®tre `p` qui repr√©sente le chemin vers le fichier, ici `./data-test.txt` pour tes tests.

#### Partie 1

Pour calculer le totale de calories d'un lutin, tu devras cr√©er une fonction `findLargestSum` qui va venir prendre notre cha√Æne de caract√®res et la coup√©e plusieurs fois.

Tu vois que dans notre fichier, chaque lutin est s√©parer par deux retours √† la ligne (`\n\n`).

Pour "couper" notre cha√Æne de caract√®res, on va utiliser la fonction `split` qui va venir d√©couper notre cha√Æne de caract√®res en plusieurs morceaux.

```js
const str = 'Hello\nWorld';
const splitted = str.split('\n');
console.log(splitted); // ['Hello', 'World']
```

Tu vois que la variable `splitted` repr√©sente maintenant un **tableau** que l'on verra profondement dans la suite. Mais un tableau c'est comme une liste, on peut y acc√©der avec des index.

```js
splitted[0]; // 'Hello'
splitted[1]; // 'World'
```

Nous on va utiliser cette liste pour la parcourir et calculer le totale de calories de chaque lutin.

Pour cela, tu vas devoir utiliser une boucle `for` qui va venir parcourir notre tableau.

```js
for (let i = 0; i < splitted.length; i++) {
  // const lutin = splitted[i];
}
```

Et ensuite le lutin tu vas devoir **√† nouveau** le split pour avoir les calories de chaque repas.

```js
const lutin = splitted[i];
const calories = lutin.split('\n');
```

Puis tu pourras utiliser le nouveau tableau `calories` pour calculer le totale de calories avec une autre boucle `for` et une variable `sum` qui va venir stocker le totale de calories.

```js
let sum = 0;
for (let j = 0; j < calories.length; j++) {
  // r√©cup√©rer la valeur de calories[j] et l'ajouter √† sum
  // Ne pas oublier de wrapper le r√©sultat dans `Number` pour convertir la cha√Æne de caract√®res en nombre
}
```

Et boom ! Tu as la `sum` de nous lutins maintenant. Il te suffit de trouver le plus grand et de le retourner afin d'avoir la bonne r√©ponse.

Tu retrouveras de l'aide dans le fichier `1.js` pour t'aider √† trouver la bonne r√©ponse.

### Commandes

#### Tester ton code

```bash
node exercices/1/1.js
```

√áa va ex√©cut√© ton code et tu pourras voir les `console.log` avec la r√©ponse.

H√©sites pas √† ajout√© des logs pour voir ce qu'il se passe dans ton code.

#### Valider ton code

```bash
npm run test 1.1
```

## Partie 2 : Les 3 plus grands

Finalement on souhaite conna√Ætre les 3 lutins qui ont mang√© le plus de calories, il ne faut plus que juste le premier mais les 3 premiers.

Tu vas devoir cr√©er une fonction `findSumOfThreeLargest` qui va faire la m√™me chose qu'avant sauf que maintenant tu vas venir stock√© chaque tailles de lutin dans un tableaux `sums`.

```js
const sums = [];

for (let i = 0; i < splitted.length; i++) {
  // ...
  sums.push(sum);
}
```

Ce qui va te permettre d'avoir un tableau qui contient **tous** les totales de calories de chaque lutin.

Ensuite tu vas devoir trouver les 3 plus grands nombres de ce tableau.

Pour √ßa, on va va trier le tableau avec la fonction `sort` qui va venir trier le tableau dans l'ordre croissant.

```js
const sorted = sums.sort((a, b) => a - b);
```

Ici la fonction `sort` prends en param√®tre un callabck qui va comparer deux nombres `a` et `b` et va retourner un nombre n√©gatif si `a` est plus petit que `b`, un nombre positif si `a` est plus grand que `b` et `0` si `a` est √©gal √† `b`.

Gra√ße √† sa, l'algo va pouvoir trier le tableau dans l'ordre croissant.

On va refaire cette function `sort` dans les exercices du cours üòâ

Une fois que tu as tri√© le tableau, tu peux r√©cup√©rer les 3 derniers √©l√©ments du tableau en utilisant les index n√©gatifs.

```js
const sorted = [1, 2, 3, 4, 5];
const lastIndex = sorted.length - 1; // => 5 (length) - 1 = 4
const last = sorted[lastIndex]; // 5
```

Tu peux faire la m√™me chose avec `-1`, `-2` et `-3` pour r√©cup√©rer les 3 derniers √©l√©ments du tableau.

Tu as plus qu'√† les additionner pour trouver le bon r√©sultat !

###¬†Commandes

#### Tester ton code

```bash
node exercices/1/1.js
```

√áa va ex√©cut√© ton code et tu pourras voir les `console.log` avec la r√©ponse.

H√©sites pas √† ajout√© des logs pour voir ce qu'il se passe dans ton code.

#### Valider ton code

```bash
npm run test 1.2
```
